extends layout

append head
  //- add page specific styles by appending to the head
  //- add page specific js
  script(src="/javascripts/reviews.js" type="module" defer)

block content
    div.movieDetail
        h2= movie.title
        img(src= movie.imageLink)
        p= movie.movieRating
        p= movie.year
        p= movie.Genre.name
        p= movie.duration
    div.reviewDiv
        h2 Reviews
        form(action=`/movies/${movie.id}/addReview`, method="post" class='formReview' id=`${movie.id}`)
            input(type="hidden", name="_csrf" value=csrfToken)
            label(for='title') Your Review:
            input(type="text" name="title" placeholder='Write your title here')
            textarea(name="content" placeholder='Write your review here')
            button(class='reviewSubmitButton') Submit Review
        div.reviews
            each review in reviews
                div.reviewCard(id=`reviewCard_${review.id}`)
                    p= review.User.username
                    p= review.title
                    p= review.content
                    form(action=`/movies/reviews/${review.id}/delete`, method="post" class='deleteForm' id=`review_${review.id}`)
                        button(type='submit' class='deleteReviewButton' value= `${review.id}`) Delete
